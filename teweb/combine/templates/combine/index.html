{% extends "combine/base_generic.html" %}
{% load static %}

{% block content %}
<h1>tellurium Web Tools</h1>
The tellurium Web Tools provides functionality for the execution of Combine archives.
Either select one of the example archives below, or upload a CombineArchive you want
to execute:

<h2>CombineArchives</h2>
{% if archives %}
    <table class="table table-striped table-condensed table-hover">
    <thead>
    <tr>
        <th></th>
        <th>Name</th>
        <th>Created</th>
        <th>Run</th>
    </tr>
    </thead>
    {% for archive in archives %}
        <tr>
            <td><i class="fa fa-archive fa-lg"></i></td>
            <td><a href="{% url 'combine:archive' archive.id %}">{{ archive.name }}</a></td>
            <td>{{ archive.created }}</td>
            <td><i class="fa fa-caret-square-o-right fa-lg"></i></td>
        </tr>
    {% endfor %}

    </table>
{% else %}
    <p>No archives available. Upload archive below.</p>
{% endif %}

<h2>Upload CombineArchive</h2>

<form action="{% url 'combine:upload' %}" method="post" enctype="multipart/form-data">
{% csrf_token %}

<p>{{ form.non_field_errors }}</p>
<p>{{ form.file.label_tag }} {{ form.file.help_text }}</p>
<p>
    {{ form.file.errors }}
    <i class="fa fa-upload fa-lg"></i> {{ form.file }}
</p>
<p><input type="submit" value="Upload" /></p>
</form>

{% endblock %}